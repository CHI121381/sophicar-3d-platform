# GitHub Pages 部署指南

## 🎯 目标
将完整的 SOPHICAR 3D 数字交互平台部署到 GitHub Pages，确保在线版本包含：
- ✅ 完整的 SOPHICAR 车辆模型（详细车身、轮子、灯光）
- ✅ 高级隧道驾驶功能（30个隧道环、光束效果、驾驶视角）
- ✅ 交互控制（鼠标旋转、缩放、平移）
- ✅ 状态指示器和用户界面

## 🚀 快速部署（推荐）

### 方法1：使用批处理文件（Windows）
```bash
# 双击运行
deploy.bat
```

### 方法2：手动命令
```bash
# 添加所有更改
git add .

# 提交更改
git commit -m "更新GitHub Pages版本 - 完整功能部署"

# 推送到GitHub
git push origin main
```

## 📁 关键文件说明

### `index-github.html`
- GitHub Pages 的主入口文件
- 包含完整的加载动画和错误处理
- 自动从CDN加载Three.js
- 部署时会被重命名为 `index.html`

### `main-github.js`
- 完整功能的应用程序主文件
- 包含高级场景管理器 `GitHubSceneManager`
- 包含详细的车辆模型和隧道驾驶效果
- 支持完整的交互控制

### `github-loader.js`
- 备用加载器（如果需要）
- 提供额外的错误处理和回退选项

## 🔧 部署工作流程

项目使用多个GitHub Actions工作流程：

1. **`no-build-deploy.yml`** (推荐)
   - 直接部署静态文件，无需构建
   - 最稳定，兼容性最好

2. **`deploy-pages.yml`**
   - 使用Vite构建后部署
   - 包含完整的构建流程

3. **`simple-deploy.yml`**
   - 简化的部署流程
   - 适用于快速测试

## 🌐 访问地址
部署完成后，访问：
**https://chi121381.github.io/sophicar-3d-platform**

## 🔍 功能验证清单

部署完成后，请验证以下功能：

### ✅ 基础功能
- [ ] 页面正常加载，显示加载动画
- [ ] 3D场景正确渲染
- [ ] 背景为赛博朋克风格渐变

### ✅ 车辆模型
- [ ] 显示完整的SOPHICAR车辆
- [ ] 车身为蓝色，带有发光效果
- [ ] 前大灯为白色发光
- [ ] 尾灯为红色发光
- [ ] 4个轮子正确显示
- [ ] SOPHICAR标识发光显示

### ✅ 交互控制
- [ ] 鼠标左键拖拽可旋转视角
- [ ] 鼠标右键拖拽可平移视角
- [ ] 鼠标滚轮可缩放
- [ ] "重置视角"按钮正常工作

### ✅ 隧道驾驶功能
- [ ] "隧道驾驶"按钮显示在底部中央
- [ ] 点击按钮启动隧道驾驶效果
- [ ] 显示30个发光隧道环
- [ ] 车辆向前加速移动
- [ ] 相机跟随车辆提供驾驶视角
- [ ] 隧道环旋转产生动感
- [ ] 10秒后自动完成并重置
- [ ] 显示完成消息

### ✅ 用户界面
- [ ] 左上角显示操作说明
- [ ] 左侧显示SOPHICAR状态指示器
- [ ] 右上角显示GitHub Pages标识
- [ ] 底部显示控制按钮

## 🐛 故障排除

### 问题1：页面显示空白或只有蓝色立方体
**解决方案：**
- 检查浏览器控制台是否有JavaScript错误
- 确认Three.js从CDN正确加载
- 验证 `main-github.js` 文件是否正确部署

### 问题2：隧道驾驶按钮不工作
**解决方案：**
- 检查控制台错误信息
- 确认车辆模型已正确加载
- 验证事件监听器是否正确绑定

### 问题3：GitHub Actions部署失败
**解决方案：**
- 检查 `.github/workflows/` 目录中的工作流程文件
- 使用 `no-build-deploy.yml` 工作流程（最稳定）
- 确认所有必要文件都已提交到仓库

### 问题4：网络连接问题
**解决方案：**
```bash
# 检查远程仓库配置
git remote -v

# 如果推送失败，尝试重新推送
git push origin main --force-with-lease
```

## 📊 性能优化

### CDN资源
- Three.js: `https://unpkg.com/three@0.182.0/build/three.module.js`
- 使用稳定版本确保兼容性

### 渲染优化
- 启用阴影映射
- 使用适当的像素比
- 实现高效的动画循环

## 🔄 更新部署

如需更新部署：

1. 修改相关文件
2. 运行部署命令
3. 等待1-2分钟让GitHub Pages重新构建
4. 清除浏览器缓存后访问

## 📞 技术支持

如果遇到问题：
1. 检查浏览器控制台错误信息
2. 验证GitHub Actions构建日志
3. 确认所有文件都已正确提交和推送

---

**最后更新：** 2026年1月3日
**版本：** GitHub Pages 完整功能版本